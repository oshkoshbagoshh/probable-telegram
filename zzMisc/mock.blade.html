<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Categories and Products</title>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css"
        />
    </head>
    <body>
        <section class="section">
            <div class="container">
                <!-- Page Title -->
                <h1 class="title has-text-centered">Categories and Products</h1>

                <!-- Categories -->
                <div id="categories">
                    <!-- Categories and products will be dynamically injected here -->
                </div>
            </div>
        </section>

        <script>
            // Sample JSON Data
            const data = {
                categories: [
                    {
                        id: 1,
                        name: "Electronics",
                        products: [
                            {
                                id: 101,
                                name: "Smartphone",
                                price: "$699",
                                rating: "★★★★☆",
                                image: "https://via.placeholder.com/150",
                            },
                            {
                                id: 102,
                                name: "Laptop",
                                price: "$999",
                                rating: "★★★★★",
                                image: "https://via.placeholder.com/150",
                            },
                        ],
                    },
                    {
                        id: 2,
                        name: "Fashion",
                        products: [
                            {
                                id: 201,
                                name: "Sneakers",
                                price: "$120",
                                rating: "★★★★☆",
                                image: "https://via.placeholder.com/150",
                            },
                            {
                                id: 202,
                                name: "Jacket",
                                price: "$250",
                                rating: "★★★★★",
                                image: "https://via.placeholder.com/150",
                            },
                        ],
                    },
                    {
                        id: 3,
                        name: "Home Appliances",
                        products: [
                            {
                                id: 301,
                                name: "Air Conditioner",
                                price: "$400",
                                rating: "★★★★☆",
                                image: "https://via.placeholder.com/150",
                            },
                            {
                                id: 302,
                                name: "Microwave",
                                price: "$150",
                                rating: "★★★☆☆",
                                image: "https://via.placeholder.com/150",
                            },
                        ],
                    },
                ],
            };

            // DOM Reference
            const categoriesContainer = document.getElementById("categories");

            // Render Categories and Products
            data.categories.forEach((category) => {
                // Create Category Title
                const categoryTitle = document.createElement("h2");
                categoryTitle.className = "title is-4 mt-5";
                categoryTitle.textContent = category.name;
                categoriesContainer.appendChild(categoryTitle);

                // Create Product Grid
                const productGrid = document.createElement("div");
                productGrid.className = "columns is-multiline";

                // Loop through products in the category
                category.products.forEach((product) => {
                    // Create Product Card
                    const productCard = document.createElement("div");
                    productCard.className = "column is-4";

                    productCard.innerHTML = `
          <div class="card">
            <div class="card-image">
              <figure class="image is-4by3">
                <img src="${product.image}" alt="${product.name}">
              </figure>
            </div>
            <div class="card-content">
              <div class="media">
                <div class="media-content">
                  <p class="title is-5">${product.name}</p>
                  <p class="subtitle is-6 has-text-grey">${product.price}</p>
                </div>
              </div>
              <div class="content">
                Rating: ${product.rating}
              </div>
            </div>
          </div>
        `;

                    // Append Product Card to Grid
                    productGrid.appendChild(productCard);
                });

                // Append Product Grid to Category
                categoriesContainer.appendChild(productGrid);
            });
        </script>
    </body>
</html>
